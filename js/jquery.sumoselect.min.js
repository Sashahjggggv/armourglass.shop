"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,n=Array(t);l<t;l++)n[l]=e[l];return n}function _iterableToArrayLimit(e,t){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var n,i,a=[],o=!0,s=!1;try{for(l=l.call(e);!(o=(n=l.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw i}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"==typeof exports?e(jQuery):module.exports=e(require("jquery"))}(function(c){c.fn.SumoSelect=function(l){function t(e,t){var l=null;"function"==typeof Event?l=new Event(t,{bubbles:!0}):(l=document.createEvent("Event")).initEvent(t,!0,!0),e.dispatchEvent(l)}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var e={placeholder:"Select Here",csvDispCount:3,captionFormat:"{0} Selected",captionFormatAllSelected:"{0} all selected!",floatWidth:400,forceCustomRendering:!1,nativeOnDevice:["Android","BlackBerry","iPhone","iPad","iPod","Opera Mini","IEMobile","Silk"],outputAsCSV:!1,csvSepChar:",",okCancelInMulti:!1,isClickAwayOk:!1,triggerChangeCombined:!0,selectAll:!1,selectAllPartialCheck:!0,search:!1,searchText:"Search...",searchFn:function(e,t){return e.toLowerCase().indexOf(t.toLowerCase())<0},noMatch:'No matches for "{0}"',prefix:"",locale:["OK","Cancel","Select All","Clear all"],up:!1,showTitle:!0,clearAll:!1,closeAfterClearAll:!1,max:null,renderLi:function(e){return e}},n=this.each(function(){var a,r=this;!this.sumo&&c(this).is("select")&&(a=c.extend({},e,l,c(this).data()),this.sumo={E:c(r),is_multi:c(r).attr("multiple"),select:"",caption:"",placeholder:"",optDiv:"",CaptionCont:"",ul:"",is_floating:!1,is_opened:!1,mob:!1,Pstate:[],lastUnselected:null,selectedCount:0,createElems:function(){var e=this,t=e.E.find("option:checked");return e.E.wrap('<div class="SumoSelect" tabindex="0" role="button" aria-expanded="false">'),t.each(function(e,t){t.selected=!0}),e.select=e.E.parent(),e.caption=c("<span>"),e.CaptionCont=c('<p class="CaptionCont SelectBox '.concat(e.E.attr("class"),'" ><label><i></i></label></p>')).attr("style",e.E.attr("style")).prepend(e.caption),e.select.append(e.CaptionCont),e.is_multi||(a.okCancelInMulti=!1),e.E.attr("disabled")&&e.select.addClass("disabled").removeAttr("tabindex"),a.outputAsCSV&&e.is_multi&&e.E.attr("name")&&(e.select.append(c('<input class="HEMANT123" type="hidden" />').attr("name",e.E.attr("name")).val(e.getSelStr())),e.E.removeAttr("name")),e.isMobile()&&!a.forceCustomRendering?void e.setNativeMobile():(e.E.attr("name")&&e.select.addClass("sumo_".concat(e.E.attr("name").replace(/\[\]/,""))),e.E.addClass("SumoUnder").attr("tabindex","-1"),e.optDiv=c('<div class="optWrapper '.concat(a.up?"up":"",'">')),e.floatingList(),e.ul=c('<ul class="options">'),e.optDiv.append(e.ul),a.clearAll&&e.is_multi&&e.ClearAll(),a.selectAll&&e.is_multi&&!a.max&&e.SelAll(),a.search&&e.Search(),e.ul.append(e.prepItems(e.E.children())),e.is_multi&&e.multiSelelect(),e.select.append(e.optDiv),e._handleMax(),e.basicEvents(),void e.selAllState())},prepItems:function(e,n){var i=[],a=this;return c(e).each(function(e,t){var l=c(t);i.push(l.is("optgroup")?c('<li class="group '.concat(t.disabled?"disabled":"",'"><label></label><ul></ul></li>')).find("label").text(l.attr("label")).end().find("ul").append(a.prepItems(l.children(),t.disabled)).end():a.createLi(l,n))}),i},createLi:function(e,t){var l=this;e.attr("value")||e.attr("value",e.val());var n=c('<li class="opt"><label>'.concat(e.html(),"</label></li>"));return n.data("opt",e),e.data("li",n),l.is_multi&&n.prepend("<span><i></i></span>"),(e[0].disabled||t)&&n.addClass("disabled"),l.onOptClick(n),e[0].selected&&(n.addClass("selected"),l.selectedCount++),e.attr("class")&&n.addClass(e.attr("class")),e.attr("title")&&n.attr("title",e.attr("title")),a.renderLi(n,e)},getSelStr:function(){var e=[];return this.E.find("option:checked").each(function(){e.push(c(this).val())}),e.join(a.csvSepChar)},multiSelelect:function(){var l=this;l.optDiv.addClass("multiple"),l.okbtn=c('<p tabindex="0" class="btnOk"></p>').click(function(){l._okbtn(),l.hideOpts()});var e=_slicedToArray(a.locale,1);l.okbtn[0].innerText=e[0],l.cancelBtn=c('<p tabindex="0" class="btnCancel"></p>').click(function(){l._cnbtn(),l.hideOpts()});e=_slicedToArray(a.locale,2);l.cancelBtn[0].innerText=e[1];e=l.okbtn.add(l.cancelBtn);l.optDiv.append(c('<div class="MultiControls">').append(e)),e.on("keydown.sumo",function(e){var t=c(this);switch(e.which){case 32:case 13:t.trigger("click");break;case 9:if(t.hasClass("btnOk"))return;break;case 27:return l._cnbtn(),void l.hideOpts()}e.stopPropagation(),e.preventDefault()})},_okbtn:function(){var l=this,n=0;a.triggerChangeCombined&&(l.E.find("option:checked").length===l.Pstate.length?l.E.find("option").each(function(e,t){t.selected&&l.Pstate.indexOf(e)<0&&(n=1)}):n=1,n&&(l.callChange(),l.setText()))},_cnbtn:function(){var e=this;e.E.find("option:checked").each(function(){this.selected=!1}),e.optDiv.find("li.selected").removeClass("selected");for(var t=0;t<e.Pstate.length;t++)e.E.find("option")[e.Pstate[t]].selected=!0,e.ul.find("li.opt").eq(e.Pstate[t]).addClass("selected");e.selAllState()},_handleMax:function(){a.max&&(this.selectedCount>=+a.max?this.optDiv.find("li.opt").not(".hidden").each(function(e,t){c(t).hasClass("selected")||c(t).addClass("temporary-disabled disabled")}):this.optDiv.find("li.opt").not(".hidden").each(function(e,t){c(t).hasClass("temporary-disabled")&&c(t).removeClass("temporary-disabled disabled")}))},ClearAll:function(){var e,t=this;t.is_multi&&(t.selAll=c('<p class="reset-all"><span><i></i></span><label></label></p>'),e=_slicedToArray(a.locale,4),t.selAll.find("label")[0].innerText=e[3],t.optDiv.addClass("resetAll"),t.selAll.on("click",function(){t.selAll.removeClass("selected"),t.toggSelAll(!1,1),a.closeAfterClearAll&&t.hideOpts()}),t.optDiv.prepend(t.selAll))},SelAll:function(){var e,t=this;t.is_multi&&(t.selAll=c('<p class="select-all"><span><i></i></span><label></label></p>'),e=_slicedToArray(a.locale,3),t.selAll.find("label")[0].innerText=e[2],t.optDiv.addClass("selall"),t.selAll.on("click",function(){t.selAll.toggleClass("selected"),t.toggSelAll(t.selAll.hasClass("selected"),1),t.selAllState()}),t.optDiv.prepend(t.selAll))},Search:function(){var n=this,e=n.CaptionCont.addClass("search"),t=c('<p class="no-match">'),i=(l.searchFn&&"function"==typeof l.searchFn?l:a).searchFn;n.ftxt=c('<input type="text" class="search-txt" value="" autocomplete="off">').on("click",function(e){e.stopPropagation()}),n.ftxt[0].placeholder=a.searchText,e.append(n.ftxt),n.optDiv.children("ul").after(t),n.ftxt.on("keyup.sumo",function(){var e=n.optDiv.find("ul.options li.opt").each(function(e,t){var l=c(t),t=l.data("opt")[0];t.hidden=i(l.text(),n.ftxt.val(),l),l.toggleClass("hidden",t.hidden)}).not(".hidden");n.optDiv[0].querySelectorAll("li.group").forEach(function(e){e.querySelector("li:not(.hidden)")?e.classList.remove("hidden"):e.classList.add("hidden")}),t.html(a.noMatch.replace(/\{0\}/g,"<em></em>")).toggle(!e.length),t.find("em").text(n.ftxt.val()),n.selAllState()})},selAllState:function(){var l,n,e=this;a.selectAll&&e.is_multi&&(n=l=0,e.optDiv.find("li.opt:not(.disabled):not(.hidden)").each(function(e,t){c(t).hasClass("selected")&&l++,n++}),l==n?e.selAll.removeClass("partial").addClass("selected"):0===l?e.selAll.removeClass("selected partial"):(a.selectAllPartialCheck&&e.selAll.addClass("partial"),e.selAll.removeClass("selected")))},showOpts:function(){var e,t=this;t.E.attr("disabled")||(t.E.trigger("sumo:opening",t),t.is_opened=!0,t.select.addClass("open").attr("aria-expanded","true"),t.E.trigger("sumo:opened",t),(t.ftxt||t.select).focus(),c(document).on("click.sumo",function(e){t.select.is(e.target)||0!==t.select.has(e.target).length||t.is_opened&&(t.hideOpts(),a.okCancelInMulti&&(a.isClickAwayOk?t._okbtn():t._cnbtn()))}),t.is_floating&&(e=t.optDiv.children("ul").outerHeight()+2,t.is_multi&&(e+=+t.optDiv.css("padding-bottom")),t.optDiv.css("height",e),c("body").addClass("sumoStopScroll")),t.setPstate())},setPstate:function(){var l=this;l.is_multi&&(l.is_floating||a.okCancelInMulti)&&(l.Pstate=[],l.E.find("option").each(function(e,t){t.selected&&l.Pstate.push(e)}))},callChange:function(){this.E.get().forEach(function(e){t(e,"change"),t(e,"click")})},hideOpts:function(){var e=this;e.is_opened&&(e.E.trigger("sumo:closing",e),e.is_opened=!1,e.select.removeClass("open").attr("aria-expanded","false").find("ul li.sel").removeClass("sel"),e.E.trigger("sumo:closed",e),c(document).off("click.sumo"),c("body").removeClass("sumoStopScroll"),a.search&&(e.ftxt.val(""),e.ftxt.trigger("keyup.sumo")))},setOnOpen:function(){var e=this.optDiv.find("li.opt:not(.hidden)").eq(a.search?0:this.E[0].selectedIndex);e.hasClass("disabled")&&!(e=e.next(":not(disabled)")).length||(this.optDiv.find("li.sel").removeClass("sel"),e.addClass("sel"),this.showOpts())},nav:function(e){var t=this,l=null,n=t.ul.find("li.opt.sel:not(.hidden)"),i=t.ul.find("li.opt:not(.disabled):not(.hidden)"),a=i.index(n);if(t.is_opened&&n.length){if(e&&0<a)l=i.eq(a-1);else{if(!(!e&&a<i.length-1&&-1<a))return;l=i.eq(a+1)}n.removeClass("sel"),n=l.addClass("sel");i=t.ul,a=i.scrollTop(),l=n.position().top+a;l>=a+i.height()-n.outerHeight()&&i.scrollTop(l-i.height()+n.outerHeight()),l<a&&i.scrollTop(l)}else t.setOnOpen()},basicEvents:function(){var t=this;t.CaptionCont.click(function(e){t.E.trigger("click"),t.is_opened?t.hideOpts():t.showOpts(),e.stopPropagation()}),t.select.on("keydown.sumo",function(e){switch(e.which){case 38:t.nav(!0);break;case 40:t.nav(!1);break;case 65:if(t.is_multi&&!a.max&&e.ctrlKey){t.toggSelAll(!e.shiftKey,1);break}return;case 32:if(a.search&&t.ftxt.is(e.target))return;break;case 13:t.is_opened?t.optDiv.find("ul li.sel").trigger("click"):t.setOnOpen();break;case 9:return void(a.okCancelInMulti||t.hideOpts());case 27:return a.okCancelInMulti&&t._cnbtn(),void t.hideOpts();default:return}e.preventDefault()}),c(window).on("resize.sumo",function(){t.floatingList()})},onOptClick:function(e){var t=this;e.click(function(){var e=c(this);e.hasClass("disabled")||(t.is_multi?(e.toggleClass("selected"),e.data("opt")[0].selected=e.hasClass("selected"),!1===e.data("opt")[0].selected?(t.lastUnselected=e.data("opt")[0].textContent,t.selectedCount--):t.selectedCount++,a.max&&t._handleMax(),t.selAllState()):(e.parent().find("li.selected").removeClass("selected"),e.toggleClass("selected"),e.data("opt")[0].selected=!0,t.selectedCount=1),t.is_multi&&a.triggerChangeCombined&&(t.is_floating||a.okCancelInMulti)||(t.setText(),t.callChange()),t.is_multi||t.hideOpts())})},setText:function(){var e,t=this,l=0;t.placeholder="",t.is_multi?(l=(e=t.E.find(":checked").not(":disabled")).length,t.placeholder=a.csvDispCount&&e.length>a.csvDispCount?(e.length===t.E.find("option").length&&a.captionFormatAllSelected?a.captionFormatAllSelected:a.captionFormat).replace(/\{0\}/g,e.length):e.toArray().map(function(e){return e.innerText}).join(", ")):(n=t.E.find(":checked").not(":disabled"),t.placeholder=n.text(),l=n.length);var n=!1;t.placeholder||(n=!0,t.placeholder=t.E.attr("placeholder"),t.placeholder||(t.placeholder=t.E.find("option:disabled:checked").text())),t.select.attr("selected-count",l),t.select.attr("is-selected",l?"true":"false"),t.placeholder=t.placeholder?"".concat(a.prefix," ").concat(t.placeholder):a.placeholder,t.caption.text(t.placeholder),a.showTitle&&t.CaptionCont.attr("title",t.placeholder);l=t.select.find("input.HEMANT123");return l.length&&l.val(t.getSelStr()),n?t.caption.addClass("placeholder"):t.caption.removeClass("placeholder"),t.placeholder},isMobile:function(){for(var e=navigator.userAgent||navigator.vendor||window.opera,t=0;t<a.nativeOnDevice.length;t++)if(0<e.toString().toLowerCase().indexOf(a.nativeOnDevice[t].toLowerCase()))return a.nativeOnDevice[t];return!1},setNativeMobile:function(){var e=this;e.E.addClass("SelectClass"),e.mob=!0,e.E.change(function(){e.setText()})},floatingList:function(){var e=this;e.is_floating=c(window).width()<=a.floatWidth,e.optDiv.toggleClass("isFloating",e.is_floating),e.is_floating||e.optDiv.css("height",""),e.optDiv.toggleClass("okCancelInMulti",a.okCancelInMulti&&!e.is_floating)},vRange:function(e){if(this.E.find("option").length<=e||e<0)throw new Error("index out of bounds");return this},toggSel:function(e,t){var l=this,n=null;!(n="number"==typeof t?(l.vRange(t),l.E.find("option")[t]):l.E.find('option[value="'.concat(t,'"]'))[0]||0)||n.disabled||n.selected!==e&&(a.max&&!n.selected&&l.selectedCount<a.max||n.selected||!a.max&&!n.selected)&&(n.selected=e,l.mob||c(n).data("li").toggleClass("selected",e),l.callChange(),l.setPstate(),l.setText(),l.selAllState())},toggDis:function(e,t){var l=this.vRange(t);(l.E.find("option")[t].disabled=e)&&(l.E.find("option")[t].selected=!1),l.mob||l.optDiv.find("ul.options li.opt").eq(t).toggleClass("disabled",e).removeClass("selected"),l.setText()},toggSumo:function(e){var t=this;return t.enabled=e,t.select.toggleClass("disabled",e),e?(t.E.attr("disabled","disabled"),t.select.removeAttr("tabindex")):(t.E.removeAttr("disabled"),t.select.attr("tabindex","0")),t},toggSelAll:function(e,t){var l=this,n=c.extend(!0,{},c._data(l.E.get(0),"events"));l.E.off(),l.is_multi?e?l.E.find("option").toArray().filter(function(e){return!e.selected&&!e.disabled&&"none"!==e.style.display}).forEach(function(e){c(e).data("li").hasClass("hidden")||(e.selected=!0,c(e).data("li").toggleClass("selected",!0))}):l.E.find("option").toArray().filter(function(e){return e.selected&&!e.disabled&&"none"!==e.style.display}).forEach(function(e){c(e).data("li").hasClass("hidden")||(e.selected=!1,c(e).data("li").toggleClass("selected",!1))}):e?console.warn("You called `SelectAll` on a non-multiple select"):l.E[0].selectedIndex=-1,c.each(n,function(e,t){c.each(t,function(e,t){l.E.on(t.type,t.handler)})}),(!l.is_multi||a.okCancelInMulti)&&l.is_multi||(l.callChange(),l.setText()),t||(!l.mob&&l.selAll&&l.selAll.removeClass("partial").toggleClass("selected",!!e),l.setText(),l.setPstate())},reload:function(){var e=this.unload();return c(e).SumoSelect(a)},unload:function(){var e=this;return e.select.before(e.E),e.E.show(),e.E[0].classList.remove("SumoUnder","SelectClass"),a.outputAsCSV&&e.is_multi&&e.select.find("input.HEMANT123").length&&e.E.attr("name",e.select.find("input.HEMANT123").attr("name")),e.select.remove(),delete r.sumo,e.E.trigger("sumo:unloaded",e),r},add:function(e,t,l,n){if(void 0===e)throw new Error("No value to add");var i=this,a=i.E.find("option"),o=t,l=l;"number"==typeof t?(l=t,o=e):void 0===t&&(o=e);var s=c("<option></option>").val(e).html(o);if(n&&"object"===_typeof(n)&&c.each(n,function(e,t){s.attr(e,t)}),a.length<l)throw new Error("index out of bounds");return void 0===l||a.length===l?(i.E.append(s),i.mob||i.ul.append(i.createLi(s))):(a.eq(l).before(s),i.mob||i.ul.find("li.opt").eq(l).before(i.createLi(s))),r},remove:function(e){var t=this.vRange(e);t.E.find("option").eq(e).remove(),t.mob||t.optDiv.find("ul.options li.opt").eq(e).remove(),t.setText()},removeAll:function(){for(var e=this.E.find("option"),t=e.length-1;0<=t;t--)!0!==e[t].selected&&this.remove(t)},find:function(e){var t,l=this.E.find("option");for(t in l)if(l[t].value===e)return+t;return-1},selectItem:function(e){this.toggSel(!0,e)},unSelectItem:function(e){this.toggSel(!1,e)},selectAll:function(){this.toggSelAll(!0)},unSelectAll:function(){this.toggSelAll(!1)},disableItem:function(e){this.toggDis(!0,e)},enableItem:function(e){this.toggDis(!1,e)},enabled:!0,enable:function(){return this.toggSumo(!1)},disable:function(){return this.toggSumo(!0)},init:function(){var e=this;return e.createElems(),e.setText(),e.E.trigger("sumo:initialized",e),e}},r.sumo.init())});return 1===n.length?n[0]:n}});